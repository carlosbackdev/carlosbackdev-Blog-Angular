@use '../../../themes/theme.scss' as theme;

section{
    padding-bottom: 100px;
}

.about-section { 
    position: relative;
    padding-bottom: 120px;
}

/* --- Layout principal mejorado con columnas fluidas --- */
.about-grid {
    display:grid;
    grid-template-columns: clamp(230px,18vw,260px) 1fr clamp(260px,22vw,300px);
    gap: clamp(1.8rem,2.8vw,2.8rem);
    width: min(1280px,92%);
    margin: 0 auto;
    align-items:start;
    position:relative;
}

/* --- Tarjetas con glassmorphism controlado --- */
.profile, .experience, .bio {
    background: linear-gradient(150deg, rgba(8,26,42,.82), rgba(14,46,70,.92));
    border:1px solid rgba(90,180,255,0.18);
    border-radius: 26px;
    padding: clamp(1.35rem,1.6vw,1.9rem) clamp(1.15rem,1.4vw,1.55rem) clamp(1.6rem,1.9vw,2.05rem);
    position: relative;
    box-shadow: 0 14px 38px -18px rgba(0,0,0,.65), 0 0 0 1px rgba(255,255,255,.04);
    backdrop-filter: blur(7px) saturate(140%);
    overflow:hidden;
}
/* acento decorativo */
.profile:before, .experience:before, .bio:before {
    content:""; position:absolute; inset:0; pointer-events:none;
    background: radial-gradient(circle at 12% 18%, rgba(90,180,255,.11), transparent 55%),
                            radial-gradient(circle at 88% 82%, rgba(90,180,255,.08), transparent 60%);
    mix-blend-mode:screen; opacity:.85; z-index:0;
}
/* borde luminoso al foco teclado */
.profile:focus-within, .experience:focus-within, .bio:focus-within { box-shadow: 0 0 0 2px #58c3ff55, 0 0 0 1px rgba(255,255,255,.05); }

.profile { display: flex; flex-direction: column; gap: 1.8rem; }
/* encabezados de secciones */
.profile h4, .experience h4, .bio h4 { margin:0 0 .85rem; font-family: theme.$font-fira; letter-spacing:.6px; font-size:clamp(1.05rem,1.05vw,1.15rem); color: theme.$yellow; position:relative; }
.profile h4:after, .experience h4:after, .bio h4:after { content:""; display:block; width:42%; height:2px; margin-top:.45rem; background:linear-gradient(90deg,#58c3ff,#155079 60%,transparent); border-radius:3px; }

.avatar { margin:0; text-align: center; }
.avatar img { width: 150px; height:150px; border-radius:50%; object-fit:cover; border:3px solid rgba(88,195,255,.35); box-shadow: 0 0 0 4px rgba(53,166,255,.08); transition: transform .6s ease, box-shadow .6s ease; }
.avatar img:hover { transform: rotate(-3deg) scale(1.035); box-shadow:0 0 0 5px rgba(88,195,255,.15), 0 8px 20px -10px #000; }
.avatar figcaption { font-size:.8rem; margin-top:.55rem; opacity:.65; letter-spacing:.5px; }

.quick-meta ul, .education ul, .experience ul { list-style:none; padding:0; margin:0; display: flex; flex-direction:column; gap:.45rem; font-size:.8rem; }
.quick-meta ul li { background: linear-gradient(125deg,#0e3d5c,#134d73 55%,#155079); padding:.42rem .65rem; border-radius: 9px; border:1px solid rgba(90,180,255,0.25); font-family: theme.$font-fira; letter-spacing:.55px; position:relative; }
.quick-meta ul li:before { content:""; position:absolute; inset:0; border-radius:inherit; background:linear-gradient(90deg,rgba(88,195,255,.35),transparent); opacity:.22; pointer-events:none; }

.education ul li, .experience ul li { line-height:1.3; position:relative; padding-left:.6rem; }
.education ul li:before, .experience ul li:before { content:'▹'; position:absolute; left:0; color:#35a6ff; font-size:.75rem; top:.1rem; }
.inner { list-style:none; padding:.35rem 0 .1rem .2rem; margin:0; font-size:.7rem; opacity:.8; display:flex; flex-direction:column; gap:.25rem; }

.bio { font-size:clamp(.9rem,.92vw,.97rem); line-height:1.6; color: rgba(255,255,255,.94); }
.bio .lead { font-size:clamp(1.05rem,1.05vw,1.12rem); line-height:1.55; color: rgba(255,255,255,.95); margin-top:0; font-weight:500; }
.bio p { margin:.7rem 0 0; }
.bio p + p { margin-top:.85rem; }
.bio strong { color: #35a6ff; font-weight:500; }
.bio em { color: #ffc861; font-style: normal; }

.projects-highlight h5, .intereses h5 { margin:1.8rem 0 .7rem; font-size:.78rem; letter-spacing:1.1px; text-transform:uppercase; font-weight:600; color:#58c3ff; }
.problems h5, .principios-inline h5 { margin:1.8rem 0 .7rem; font-size:.78rem; letter-spacing:1.1px; text-transform:uppercase; font-weight:600; color:#58c3ff; }
.projects-highlight ul { list-style:none; padding:0; margin:0; display:grid; gap:.55rem; font-size:.75rem; }
.projects-highlight li { background: linear-gradient(125deg,#0d415f,#124c71 55%,#155079); padding:.58rem .78rem; border-left:3px solid #58c3ff; border-radius: 11px; position:relative; }
.projects-highlight li:before { content:""; position:absolute; top:0; left:0; right:0; bottom:0; background:linear-gradient(90deg,rgba(88,195,255,.25),transparent 70%); opacity:.18; border-radius:inherit; }

.intereses .tags { list-style:none; padding:0; margin:0; display:flex; flex-wrap:wrap; gap:.5rem; }
.intereses .tags li { background: linear-gradient(130deg,#103e5c,#164e72 60%,#17567e); padding:.42rem .66rem; font-size:.66rem; border:1px solid rgba(90,180,255,0.32); border-radius: 9px; letter-spacing:.55px; position:relative; }
.intereses .tags li:after { content:""; position:absolute; inset:0; border-radius:inherit; background:linear-gradient(110deg,rgba(90,180,255,.35),transparent 55%); opacity:.22; }
.problems ul, .principios-inline .principios-list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:.55rem; font-size:.72rem; }
.problems ul li, .principios-inline .principios-list li { position:relative; padding:.55rem .75rem .55rem 1.15rem; background: linear-gradient(125deg,#0d415f,#124c71 55%,#155079); border:1px solid rgba(90,180,255,0.25); border-radius:10px; line-height:1.35; }
.problems ul li:before, .principios-inline .principios-list li:before { content:"▹"; position:absolute; left:.55rem; top:.55rem; color:#58c3ff; font-size:.7rem; }
.principios-inline strong { color:#58c3ff; font-weight:500; }

.cta-row { margin:2rem 0 0; display:flex; flex-wrap:wrap; gap:.8rem; }
.btn-cta { --btn-bg: linear-gradient(125deg,#124365,#195781); position:relative; display:inline-flex; align-items:center; justify-content:center; padding:.72rem 1.25rem; font-size:.72rem; letter-spacing:.65px; text-decoration:none; color: rgba(255,255,255,.93); background: var(--btn-bg); border:1px solid rgba(90,180,255,0.32); border-radius: 14px; box-shadow: 0 4px 14px -6px rgba(0,0,0,.6); transition:.4s ease; font-family: theme.$font-fira; overflow:hidden; }
.btn-cta:before { content:""; position:absolute; inset:0; background:linear-gradient(90deg,rgba(255,255,255,.15),transparent 70%); opacity:0; transition:.5s ease; }
.btn-cta:hover { color:#58c3ff; box-shadow:0 8px 22px -8px rgba(0,0,0,.7), 0 0 0 1px rgba(88,195,255,.45); transform:translateY(-3px); }
.btn-cta:hover:before { opacity:.5; }
.btn-cta.secondary { --btn-bg: linear-gradient(120deg,#4f3b0b,#6c5412 65%,#7a6018); }
.btn-cta.ghost { background: transparent; border:1px solid rgba(90,180,255,0.32); }

@media (max-width: 1250px) { .about-grid { grid-template-columns:240px 1fr 280px; } }
@media (max-width: 1080px) {
    .about-grid { grid-template-columns: 240px 1fr; }
}
@media (max-width: 980px) {
    .about-grid { grid-template-columns: 220px 1fr; }
}
@media (max-width: 920px) {
    .about-grid { grid-template-columns: 1fr; display:flex; flex-direction:column; }
    .profile, .experience, .bio { border-radius:22px; width:100%; max-width:100%; }
    .about-grid > * + * { margin-top: 1.15rem; }
    .bio { grid-column: auto; }
}
@media (max-width: 620px) { .avatar img { width:120px; height:120px; } .bio { font-size:.9rem; } .projects-highlight li { font-size:.7rem; } .btn-cta { font-size:.68rem; padding:.68rem 1.05rem; } }

/* === Overrides de contraste y legibilidad añadidos === */
/* Ajuste contraste (manteniendo nuevo gradiente base) */
.profile, .experience, .bio { background: linear-gradient(148deg, rgba(8,24,38,.9), rgba(14,48,72,.94)); border:1px solid rgba(90,180,255,0.24); box-shadow: 0 14px 42px -18px rgba(0,0,0,.66), 0 0 0 1px rgba(255,255,255,.035); }
.quick-meta ul li { background: linear-gradient(120deg,#114366,#155079); border:1px solid rgba(90,180,255,0.28); color: rgba(255,255,255,.92); }
.education ul li, .experience ul li { color: rgba(255,255,255,.9); }
.inner { opacity:.9; color: rgba(255,255,255,.88); }
.bio { color: rgba(255,255,255,.92); line-height:1.6; }
.bio .lead { color: rgba(255,255,255,.95); text-shadow:0 0 6px rgba(0,0,0,.55); }
.bio p { text-shadow:0 0 4px rgba(0,0,0,.55); }
.bio strong { color:#58c3ff; }
.projects-highlight li { background: linear-gradient(120deg,#124366,#195982); border-left-color:#58c3ff; color: rgba(255,255,255,.92); }
.intereses .tags li { background: linear-gradient(120deg,#164b6d,#1d628b); border:1px solid rgba(90,180,255,0.35); color: rgba(255,255,255,.9); }
/* Override mantiene consistencia con nuevo diseño */
.btn-cta { --btn-bg: linear-gradient(125deg,#134061,#1b5a84); color: rgba(255,255,255,.94); border:1px solid rgba(90,180,255,0.38); }

/* Responsive extras */
/* Consolidados: 1120/980/900 reemplazados por 1080/980/920 arriba */
@media (max-width: 680px) { .bio { font-size:.9rem; } .quick-meta ul li { font-size:.72rem; } }
@media (max-width: 480px) { .about-grid { gap:1.2rem; } .profile, .experience, .bio { padding:1.2rem 1rem 1.35rem; } .bio { font-size:.88rem; } }

/* ===== Mobile refinements to avoid over-stretch on very small widths ===== */
@media (max-width: 560px) {
    .about-grid { gap: 1rem; }
    .profile, .experience, .bio { padding: 1rem .9rem 1.15rem; width:100%; }
    .bio { max-width: 100%; margin-inline: 0; line-height:1.55; }
    .bio .lead { font-size: .98rem; }
    .projects-highlight ul { gap:.45rem; }
    .projects-highlight li { padding:.5rem .65rem; font-size:.68rem; }
    .intereses .tags li { padding:.35rem .55rem; font-size:.6rem; }
    .cta-row { flex-direction: column; align-items: stretch; }
    .btn-cta { width:100%; justify-content:center; font-size:.7rem; padding:.7rem 1rem; }
    .avatar img { width:110px; height:110px; }
    .quick-meta ul li { font-size:.67rem; padding:.38rem .55rem; }

    /* Centramos bloque de perfil y evitamos desbordes horizontales */
    .profile { align-items:center; text-align:center; overflow:visible; }
    .profile h4 { text-align:center; }
    .profile .quick-meta ul,
    .profile .education > ul { /* listas principales */
        width:100%;
        max-width:340px;
        margin:0 auto;
        align-items:stretch; /* mantener fondo de cada li al 100% */
    }
    .profile .quick-meta ul { display:flex; flex-direction:column; }
    .profile .education > ul { display:flex; flex-direction:column; gap:.6rem; }
    .profile .education > ul > li { text-align:left; }
    .profile .education > ul > li > strong { display:inline-block; margin-bottom:.25rem; }
    .profile .education .inner { padding-left:.35rem; }
    .quick-meta ul li, .education ul li { word-break:break-word; }
    /* Improve wrapping for long compound terms */
    .quick-meta ul li { overflow-wrap: anywhere; hyphens: auto; }
    .education ul li { overflow-wrap: anywhere; }
    /* Subtle spacing tighten */
    .experience ul { gap:.4rem; }
}

@media (max-width: 400px) {
    .bio { font-size:.82rem; }
    .bio p { margin-top:.6rem; }
    .btn-cta { font-size:.66rem; padding:.62rem .85rem; }
    .avatar img { width:100px; height:100px; }
    .quick-meta ul li { font-size:.64rem; }
    .projects-highlight h5, .intereses h5 { font-size:.7rem; }
    /* Ajustes más compactos para listas dentro del perfil */
    .profile .quick-meta ul,
    .profile .education > ul { max-width:300px; }
    .profile .education .inner { font-size:.66rem; }
    .profile { gap:1.2rem; }
    .quick-meta ul li { padding:.34rem .5rem; }
    .education ul li { padding-left:.5rem; }
}

[data-theme='light'] .profile, [data-theme='light'] .experience, [data-theme='light'] .bio { background: linear-gradient(140deg,#ffffff,#e8f4fb); border-color: rgba(0,102,153,0.18); box-shadow: 0 4px 18px -10px rgba(0,40,70,.18); }
[data-theme='light'] .projects-highlight li { background: linear-gradient(120deg,#d8ecf8,#cce3f0); }
[data-theme='light'] .intereses .tags li { background: linear-gradient(120deg,#cfe6f3,#e3f4fb); }
[data-theme='light'] .btn-cta { color:#062236; }
[data-theme='light'] .btn-cta:hover { color:#0a5585; }

.titulo-container {
    width: 100%;
    margin: 40px auto;
    text-align: center;
    font-size: 17px;
    font-family: theme.$font-console;
    color: theme.$yellow;

    h3 {
        all: unset;
        font-size: 40px;
        border-bottom: theme.$border-bottom;
        padding-bottom: 5px;
    }
}

@media (max-width: 760px){
  .about-grid { width: min(100%, 760px); }
  .bio, .profile, .experience { padding: 1.1rem .95rem 1.25rem; }
  .bio { font-size:.9rem; }
  .cta-row { gap:.65rem; }
}

/* Ultra narrow refinements */
@media (max-width: 360px) {
    .about-grid { gap:.95rem; }
    .profile, .experience, .bio { padding:.9rem .75rem 1.05rem; }
    .bio { font-size:.8rem; }
    .projects-highlight li { padding:.48rem .6rem; font-size:.64rem; }
    .intereses .tags li { font-size:.55rem; padding:.32rem .5rem; }
    .btn-cta { font-size:.62rem; padding:.55rem .75rem; }
    .quick-meta ul li { font-size:.6rem; }
}