@use '../../../themes/theme.scss' as theme;

/* --------------------------------------------------
   Tecnologías (principal + secundary) responsive 2025
   Objetivos:
   - Grid fluido con auto-fit
   - Tamaños adaptativos via clamp()
   - Accesible (focus visible, prefers-reduced-motion)
   - Código limpio sin duplicados previos
--------------------------------------------------- */

.titulo-container {
  width: 100%;
  margin: 48px auto 0;
  text-align: center;
  font: 600 17px theme.$font-console;
  color: theme.$yellow;

  h3 {
    all: unset;
    display: inline-block;
    font-size: clamp(2rem, 4.5vw, 2.6rem);
    padding-bottom: .35rem;
    border-bottom: theme.$border-bottom;
    line-height: 1.1;
  }
}

.tec-division {
  --ring-bg: radial-gradient(circle, rgba(25,25,28,0) 60%, rgb(41 128 185) 72%, rgba(8,90,184,.85) 90%);
  --ring-shadow: 0 0 10px rgba(24,101,245,.45), 0 0 18px rgba(24,101,245,.35);
  --ring-shadow-hover: 0 0 14px rgba(99,153,253,.65), 0 0 28px rgba(24,101,245,.55);

  width: min(1400px, 86%);
  margin: clamp(2.5rem, 5vw, 4rem) auto 0;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: clamp(2.2rem, 6vw, 9%);
  flex-wrap: nowrap;
}

.principal, .secundary {
  flex: 1 1 50%;
  text-align: center;
}

.principal h4, .secundary h4 {
  font-family: theme.$font-fira;
  font-weight: 500;
  color: theme.$white;
  padding: .55rem .4rem .7rem;
  border-bottom: theme.$border-bottom;
  margin: 0 0 1.6rem;
  letter-spacing: .5px;
  font-size: clamp(1rem, 1.2vw, 1.15rem);
  line-height: 1.2;
}

/* Grid principal */
.principal ul {
  --min: 150px;
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(var(--min), 1fr));
  gap: clamp(2.2rem, 4.2vw, 4.6rem);
}

.principal ul li {
  width: clamp(150px, 18vw, 200px);
  aspect-ratio: 1 / 1; /* Mantiene círculo perfecto */
  border-radius: 50%;
  background: var(--ring-bg);
  box-shadow: var(--ring-shadow);
  position: relative;
  cursor: pointer;
  transition: box-shadow .35s ease, transform .35s ease;
  margin: 0 auto;
  outline: none;
}

.principal ul li img {
  position: absolute;
  inset: 50% auto auto 50%;
  transform: translate(-50%, -50%);
  max-width: clamp(90px, 9vw, 150px);
  max-height: clamp(90px, 9vw, 150px);
  object-fit: contain;
  filter: drop-shadow(0 1px 2px rgba(0,0,0,.45));
}

#ts { /* ajuste específico para el logo TS */
  transform: translate(-50%, -50%) scale(.82);
}

.principal ul li:hover,
.principal ul li:focus-visible {
  box-shadow: var(--ring-shadow-hover);
  transform: translateY(-6px) scale(1.055);
}

/* Secundary (fila flexible) */
.secundary ul {
  list-style: none;
  padding: 0;
  margin: 0 0 3.5rem;
  display: flex;
  flex-wrap: nowrap;
  gap: clamp(1.8rem, 3.2vw, 40px);
  justify-content: center;
}

.secundary ul li {
  width: clamp(80px, 9vw, 105px);
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  background: var(--ring-bg);
  box-shadow: var(--ring-shadow);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  cursor: pointer;
  transition: box-shadow .35s ease, transform .35s ease;
  outline: none;
}

.secundary ul li img { width: 70%; height: 70%; object-fit: contain; filter: drop-shadow(0 1px 2px rgba(0,0,0,.45)); }

.secundary ul li:hover,
.secundary ul li:focus-visible {
  box-shadow: 0 0 14px rgba(99,153,253,.65), 0 0 24px rgba(24,101,245,.55);
  transform: translateY(-5px) scale(1.065);
}

/* Accesibilidad para usuarios sin hover */
@media (hover: none) {
  .principal ul li:hover,
  .secundary ul li:hover { transform: none; }
}

/* Prefiere menos movimiento */
@media (prefers-reduced-motion: reduce) {
  .principal ul li,
  .secundary ul li { transition: box-shadow .25s ease; }
  .principal ul li:hover,
  .principal ul li:focus-visible,
  .secundary ul li:hover,
  .secundary ul li:focus-visible { transform: none; }
}

/* ------------------ Breakpoints ------------------ */
@media (max-width: 1280px) {
  .tec-division { flex-direction: column; align-items: stretch; }
  .principal, .secundary { width: 100%; }
  .secundary ul { flex-wrap: wrap; margin-top: 2.2rem; }
}

@media (max-width: 980px) {
  .principal ul { --min: 140px; gap: clamp(1.9rem, 5vw, 3.3rem); }
  .principal ul li { width: clamp(130px, 28vw, 170px); }
}

@media (max-width: 820px) {
  .principal ul { --min: 135px; }
}

@media (max-width: 640px) {
  .tec-division { width: 94%; }
  .principal ul { --min: 120px; gap: 2.1rem; }
  .principal ul li { width: 130px; }
  .secundary ul { gap: 1.4rem; }
}

@media (max-width: 520px) {
  .principal ul li { width: 118px; }
  .principal ul li img { max-width: 82px; }
  .titulo-container h3 { font-size: 1.85rem; }
}

@media (max-width: 460px) {
  .principal ul { gap: 1.85rem; }
  .principal ul li { width: 112px; }
  .secundary ul li { width: 74px; }
}

@media (max-width: 400px) {
  .principal ul li { width: 106px; }
  .principal ul li img { max-width: 70px; }
}

@media (max-width: 360px) {
  .principal ul { gap: 1.55rem; }
  .principal ul li { width: 100px; }
}

/* Soporte táctil: ampliar target si se desea tocar con dedo */
@media (pointer: coarse) {
  .principal ul li:active,
  .secundary ul li:active { transform: scale(.96); }
}

/* Focus visible para teclado */
.principal ul li:focus-visible,
.secundary ul li:focus-visible {
  outline: 2px solid theme.$yellow;
  outline-offset: 3px;
}

/* Modo alto contraste opcional (si se define data-theme="contrast" en html) */
[data-theme='contrast'] {
  .principal ul li,
  .secundary ul li { background: radial-gradient(circle, rgba(10,10,10,0) 55%, theme.$yellow 72%, theme.$yellow 90%); }
  .principal ul li img,
  .secundary ul li img { filter: none; }
}